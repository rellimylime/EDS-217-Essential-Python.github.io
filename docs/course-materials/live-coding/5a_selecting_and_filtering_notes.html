<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Live Coding Session</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../course-materials/assets/css/exercises.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">EDS 217</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">🏠 home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://docs.google.com/document/d/1yBKyJFT22bKynDn4TzrNwdeZ6lb9NELqCeewhifcugo/edit?usp=sharing" target="_blank"> 
<span class="menu-text">📋 syllabus</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-daily-materials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">🗓️ daily materials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-daily-materials">    
        <li>
    <a class="dropdown-item" href="../../course-materials/day1.html">
 <span class="dropdown-text">0️⃣ Day 1 (9/2)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day2.html">
 <span class="dropdown-text">1️⃣ Day 2 (9/3)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day3.html">
 <span class="dropdown-text">2️⃣ Day 3 (9/4)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day4.html">
 <span class="dropdown-text">3️⃣ Day 4 (9/5)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day5.html">
 <span class="dropdown-text">4️⃣ Day 5 (9/8)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day6.html">
 <span class="dropdown-text">5️⃣ Day 6 (9/9)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day7.html">
 <span class="dropdown-text">6️⃣ Day 7 (9/10)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day8.html">
 <span class="dropdown-text">7️⃣ Day 8 (9/11)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/day9.html">
 <span class="dropdown-text">8️⃣ Day 9 (9/12)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-interactive-sessions" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">💻 interactive sessions</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-interactive-sessions">    
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/1a_iPython_JupyterLab.html">
 <span class="dropdown-text">Session 1a - ⚒️ JupyterLab Intro and IPython</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/1b_Jupyter_Notebooks.html">
 <span class="dropdown-text">Session 1b - ⚒️ Coding in Jupyter Notebooks</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/1c_variables_strings.html">
 <span class="dropdown-text">Session 1c - 🐍 Exploring Variable Types and Methods in Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/1d_operators_functions.html">
 <span class="dropdown-text">Session 1d - 🐍 Operators &amp; Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/2a_lists.html">
 <span class="dropdown-text">Session 2a - 🐍 Lists</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/2b_dictionaries.html">
 <span class="dropdown-text">Session 2b - 🐍 Dissecting Dictionaries</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/live-coding/3a_control_flows.html">
 <span class="dropdown-text">Session 3a - 🐍 Introduction to Control Flows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/3c_arrays_and_series.html">
 <span class="dropdown-text">Session 3c - 🔢 Arrays and Series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/4a_dataframes.html">
 <span class="dropdown-text">Session 4a - 🐼 DataFrames</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/4c_dataframe_workflows.html">
 <span class="dropdown-text">Session 4c - 🐼 DataFrame Workflows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/live-coding/4d_data_import_export.html">
 <span class="dropdown-text">Session 4d - 🐼 Data Import and Export</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/live-coding/5a_selecting_and_filtering.html">
 <span class="dropdown-text">Session 5a - 🐼 Selecing and Filtering Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/5b_cleaning_data.html">
 <span class="dropdown-text">Session 5b - 🐼 Cleaning Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/6a_grouping_joining_sorting.html">
 <span class="dropdown-text">Session 6a - 🐼 Grouping, Joining, and Sorting (Part I)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/6c_dates.html">
 <span class="dropdown-text">Session 6c - 📆 Working with Dates</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/7a_visualizations_1.html">
 <span class="dropdown-text">Session 7a - 📊 Data Visualization with Seaborn &amp; Matplotlib (Part I)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/interactive-sessions/7b_visualizations_2.html">
 <span class="dropdown-text">Session 7b - 📊 Data Visualization with Seaborn &amp; Matplotlib (Part II)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-coding-colabs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">🙌 coding colabs</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-coding-colabs">    
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/2c_lists_dictionaries_sets.html">
 <span class="dropdown-text">🙌 Session 2c - Working with Lists, Dictionaries, and Sets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/3b_control_flows.html">
 <span class="dropdown-text">🙌 Session 3b - Control Flows</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/3d_pandas_series.html">
 <span class="dropdown-text">🙌 Session 3d - Pandas Series</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/4b_pandas_dataframes.html">
 <span class="dropdown-text">🙌 Session 4b - Pandas DataFrames</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/5c_cleaning_data.html">
 <span class="dropdown-text">🙌 Session 5c - Data Cleaning</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/6b_advanced_data_manipulation.html">
 <span class="dropdown-text">🙌 Session 6b - Data Manipulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../course-materials/coding-colabs/7c_visualizations.html">
 <span class="dropdown-text">🙌 Session 7c - Exploring data using visualizations</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../cheatsheets.html"> 
<span class="menu-text">👀 cheatsheets</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">📚 resources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="https://docs.python.org/3/" target="_blank">
 <span class="dropdown-text">📚 Python Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://pandas.pydata.org/docs/" target="_blank">
 <span class="dropdown-text">📚 Pandas Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://numpy.org/doc/stable/" target="_blank">
 <span class="dropdown-text">📚 Numpy Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://matplotlib.org/stable/contents.html" target="_blank">
 <span class="dropdown-text">📚 Matplotlib Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://seaborn.pydata.org/" target="_blank">
 <span class="dropdown-text">📚 Seaborn Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jupyterlab.readthedocs.io/en/stable/" target="_blank">
 <span class="dropdown-text">📚 JupyterLab Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://docs.anaconda.com/" target="_blank">
 <span class="dropdown-text">📚 Anaconda Documentation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://stackoverflow.com/" target="_blank">
 <span class="dropdown-text">📚 Stack Overflow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://realpython.com/" target="_blank">
 <span class="dropdown-text">📚 Real Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://towardsdatascience.com/" target="_blank">
 <span class="dropdown-text">📚 Towards Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.datacamp.com/" target="_blank">
 <span class="dropdown-text">📚 DataCamp</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.kaggle.com/" target="_blank">
 <span class="dropdown-text">📚 Kaggle</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="http://pythontutor.com/" target="_blank">
 <span class="dropdown-text">🧰 Python Tutor</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://pandastutor.com/vis.html#" target="_blank">
 <span class="dropdown-text">🧰 Pandas Tutor</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://wesmckinney.com/book/" target="_blank">
 <span class="dropdown-text">📙 Python for Data Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://jakevdp.github.io/PythonDataScienceHandbook/" target="_blank">
 <span class="dropdown-text">📙 Python for Data Science Handbook</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/jakevdp/PythonDataScienceHandbook" target="_blank">
 <span class="dropdown-text">📙 Python Data Science Handbook (GitHub)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://talkpython.fm/" target="_blank">
 <span class="dropdown-text">📻 Talk Python to Me</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/EDS-217-Essential-Python/EDS-217-Essential-Python.github.io" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Live Coding Session</h1>
            <p class="subtitle lead">Basic Pandas Selection and Filtering</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup">1. Setup</a></li>
  <li><a href="#basic-selection" id="toc-basic-selection" class="nav-link" data-scroll-target="#basic-selection">2. Basic Selection</a></li>
  <li><a href="#filtering-based-on-column-values" id="toc-filtering-based-on-column-values" class="nav-link" data-scroll-target="#filtering-based-on-column-values">3. Filtering Based on Column Values</a>
  <ul class="collapse">
  <li><a href="#a.-single-condition-filtering" id="toc-a.-single-condition-filtering" class="nav-link" data-scroll-target="#a.-single-condition-filtering">3a. Single Condition Filtering</a></li>
  <li><a href="#b.-multiple-conditions-with-logical-operators" id="toc-b.-multiple-conditions-with-logical-operators" class="nav-link" data-scroll-target="#b.-multiple-conditions-with-logical-operators">3b. Multiple Conditions with Logical Operators</a></li>
  <li><a href="#c.-using-the-filter-command" id="toc-c.-using-the-filter-command" class="nav-link" data-scroll-target="#c.-using-the-filter-command">3c. Using the <code>filter</code> command</a></li>
  </ul></li>
  <li><a href="#combining-selection-and-filtering" id="toc-combining-selection-and-filtering" class="nav-link" data-scroll-target="#combining-selection-and-filtering">4. Combining Selection and Filtering</a></li>
  <li><a href="#using-.isin-for-multiple-values" id="toc-using-.isin-for-multiple-values" class="nav-link" data-scroll-target="#using-.isin-for-multiple-values">5. Using .isin() for Multiple Values</a></li>
  <li><a href="#filtering-with-string-methods" id="toc-filtering-with-string-methods" class="nav-link" data-scroll-target="#filtering-with-string-methods">6. Filtering with String Methods</a></li>
  <li><a href="#advanced-selection-.loc-vs-.iloc" id="toc-advanced-selection-.loc-vs-.iloc" class="nav-link" data-scroll-target="#advanced-selection-.loc-vs-.iloc">7. Advanced Selection: .loc vs .iloc</a>
  <ul class="collapse">
  <li><a href="#key-differences-between-.loc-and-.iloc-and-use-cases" id="toc-key-differences-between-.loc-and-.iloc-and-use-cases" class="nav-link" data-scroll-target="#key-differences-between-.loc-and-.iloc-and-use-cases">Key differences between <code>.loc</code> and <code>.iloc</code> and use cases:</a></li>
  <li><a href="#best-practices-for-using-.loc-and-.iloc" id="toc-best-practices-for-using-.loc-and-.iloc" class="nav-link" data-scroll-target="#best-practices-for-using-.loc-and-.iloc">Best practices for using <code>.loc</code> and <code>.iloc</code></a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<p>In this live coding session, we’ll explore fundamental concepts of selecting and filtering data in pandas DataFrames, using examples different from our cheatsheet to broaden your understanding.</p>
<p>While filtering and selection are related concepts in data manipulation, they have distinct differences:</p>
<p><strong>Selection</strong>:</p>
<ol type="1">
<li>Definition: Selection refers to choosing specific columns or rows from a DataFrame based on their labels or positions.</li>
<li>Purpose: It’s used to extract a subset of data you’re interested in, without necessarily applying any conditions.</li>
<li>Methods: In pandas, selection is typically done using methods like <code>.loc[]</code>, <code>.iloc[]</code>, or square brackets <code>df[]</code> for column selection.</li>
<li>Example: Selecting specific columns like <code>df[['name', 'age']]</code> or rows <code>df.loc[0:5]</code>.</li>
</ol>
<p><strong>Filtering:</strong></p>
<ol type="1">
<li>Definition: Filtering involves choosing rows that meet specific conditions based on the values in one or more columns.</li>
<li>Purpose: It’s used to extract data that satisfies certain criteria or conditions.</li>
<li>Methods: In pandas, filtering is often done using boolean indexing or the <code>.query()</code> method.</li>
<li>Example: Filtering rows where age is greater than 30: <code>df[df['age'] &gt; 30]</code>.</li>
</ol>
<p><strong>Key differences:</strong></p>
<ol type="1">
<li><p>Scope:</p>
<ul>
<li>Selection typically deals with choosing columns or rows based on their labels or positions.</li>
<li>Filtering typically deals with choosing rows based on conditions applied to the data values.</li>
</ul></li>
<li><p>Condition-based:</p>
<ul>
<li>Selection doesn’t necessarily involve conditions (though it can with <code>.loc</code>)</li>
<li>Filtering always involves a condition or criteria.</li>
</ul></li>
<li><p>Output:</p>
<ul>
<li>Selection can result in both a subset of columns and/or rows.</li>
<li>Filtering typically results in a subset of rows (though the number of columns can be affected if combined with selection).</li>
</ul></li>
<li><p>Use cases:</p>
<ul>
<li>Selection is often used when you know exactly which columns or rows you want.</li>
<li>Filtering is used when you want to find data that meets certain criteria.</li>
</ul></li>
</ol>
<p>It’s worth noting that in practice, these operations are often combined. For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This combines filtering (age &gt; 30) and selection (only 'name' and 'profession' columns)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> df.loc[df[<span class="st">'age'</span>] <span class="op">&gt;</span> <span class="dv">30</span>, [<span class="st">'name'</span>, <span class="st">'profession'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Understanding the distinction between filtering and selection helps in choosing the right methods for data manipulation tasks and in communicating clearly about data operations.</p>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">1. Setup</h2>
<p>First, let’s import pandas and load our dataset.</p>
<div id="5bcb550a" class="cell" data-execution_count="1">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'https://bit.ly/eds217-studentdata'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.head())</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Display basic information about the DataFrame</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.info())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   student_id  age   gpa             major
0        1000   24  2.18       Mathematics
1        1001   21  2.39           Physics
2        1002   22  2.09           Physics
3        1003   24  2.65  Computer Science
4        1004   20  2.78         Chemistry
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 100 entries, 0 to 99
Data columns (total 4 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   student_id  100 non-null    int64  
 1   age         100 non-null    int64  
 2   gpa         100 non-null    float64
 3   major       100 non-null    object 
dtypes: float64(1), int64(2), object(1)
memory usage: 3.3+ KB
None</code></pre>
</div>
</div>
</section>
<section id="basic-selection" class="level2">
<h2 class="anchored" data-anchor-id="basic-selection">2. Basic Selection</h2>
<p>Let’s start with some basic selection techniques.</p>
<div id="5c21dfab" class="cell" data-execution_count="2">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select a single column</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>majors <span class="op">=</span> df[<span class="st">'major'</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Majors:</span><span class="ch">\n</span><span class="st">"</span>, majors.head())</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select multiple columns</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>id_major <span class="op">=</span> df[[<span class="st">'student_id'</span>, <span class="st">'major'</span>]]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Student IDs and Majors:</span><span class="ch">\n</span><span class="st">"</span>, id_major.head())</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Select rows by index</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>last_five <span class="op">=</span> df.iloc[<span class="op">-</span><span class="dv">5</span>:]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Last five rows:</span><span class="ch">\n</span><span class="st">"</span>, last_five)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Select alternate rows and specific columns</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>alternate_rows <span class="op">=</span> df.iloc[::<span class="dv">2</span>, [<span class="dv">1</span>, <span class="dv">3</span>]]</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Alternate rows with age and major:</span><span class="ch">\n</span><span class="st">"</span>, alternate_rows.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Majors:
 0         Mathematics
1             Physics
2             Physics
3    Computer Science
4           Chemistry
Name: major, dtype: object

Student IDs and Majors:
    student_id             major
0        1000       Mathematics
1        1001           Physics
2        1002           Physics
3        1003  Computer Science
4        1004         Chemistry

Last five rows:
     student_id  age   gpa      major
95        1095   23  2.48  Chemistry
96        1096   21  2.29  Chemistry
97        1097   23  2.98  Chemistry
98        1098   24  3.97  Chemistry
99        1099   24  2.48  Chemistry

Alternate rows with age and major:
    age        major
0   24  Mathematics
2   22      Physics
4   20    Chemistry
6   22  Mathematics
8   19    Chemistry</code></pre>
</div>
</div>
</section>
<section id="filtering-based-on-column-values" class="level2">
<h2 class="anchored" data-anchor-id="filtering-based-on-column-values">3. Filtering Based on Column Values</h2>
<p>Now, let’s explore filtering techniques.</p>
<section id="a.-single-condition-filtering" class="level3">
<h3 class="anchored" data-anchor-id="a.-single-condition-filtering">3a. Single Condition Filtering</h3>
<div id="9575092d" class="cell" data-execution_count="3">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter students with GPA above 3.7</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>high_achievers <span class="op">=</span> df[df[<span class="st">'gpa'</span>] <span class="op">&gt;</span> <span class="fl">3.7</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"High achieving students:</span><span class="ch">\n</span><span class="st">"</span>, high_achievers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>High achieving students:
     student_id  age   gpa             major
13        1013   22  3.97       Mathematics
24        1024   22  3.73           Physics
32        1032   18  3.77           Physics
48        1048   18  3.82         Chemistry
56        1056   19  3.86           Physics
59        1059   21  3.74         Chemistry
62        1062   19  3.79           Physics
65        1065   22  3.79         Chemistry
71        1071   24  3.72           Physics
78        1078   21  3.89         Chemistry
83        1083   23  3.94  Computer Science
84        1084   23  3.92       Mathematics
94        1094   19  3.82           Physics
98        1098   24  3.97         Chemistry</code></pre>
</div>
</div>
</section>
<section id="b.-multiple-conditions-with-logical-operators" class="level3">
<h3 class="anchored" data-anchor-id="b.-multiple-conditions-with-logical-operators">3b. Multiple Conditions with Logical Operators</h3>
<div id="16ebeb0f" class="cell" data-execution_count="4">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter students who are under 20 AND majoring in Mathematics</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>young_math <span class="op">=</span> df[(df[<span class="st">'age'</span>] <span class="op">&lt;</span> <span class="dv">20</span>) <span class="op">&amp;</span> (df[<span class="st">'major'</span>] <span class="op">==</span> <span class="st">'Mathematics'</span>)]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Young Math students:</span><span class="ch">\n</span><span class="st">"</span>, young_math)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter students who are either 22 years old OR have a GPA of exactly 3.5</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>specific_students <span class="op">=</span> df[(df[<span class="st">'age'</span>] <span class="op">==</span> <span class="dv">22</span>) <span class="op">|</span> (df[<span class="st">'gpa'</span>] <span class="op">==</span> <span class="fl">3.5</span>)]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Students who are 22 or have a 3.5 GPA:</span><span class="ch">\n</span><span class="st">"</span>, specific_students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Young Math students:
     student_id  age   gpa        major
18        1018   19  3.41  Mathematics
27        1027   19  2.13  Mathematics
58        1058   18  3.27  Mathematics
61        1061   19  2.37  Mathematics
64        1064   19  3.61  Mathematics
66        1066   19  2.64  Mathematics
Students who are 22 or have a 3.5 GPA:
     student_id  age   gpa             major
2         1002   22  2.09           Physics
5         1005   22  2.54       Engineering
6         1006   22  3.66       Mathematics
13        1013   22  3.97       Mathematics
17        1017   22  3.63           Physics
24        1024   22  3.73           Physics
29        1029   22  2.65  Computer Science
50        1050   22  2.82       Engineering
53        1053   22  2.15  Computer Science
65        1065   22  3.79         Chemistry
73        1073   22  3.02       Engineering
88        1088   22  2.57       Mathematics</code></pre>
</div>
</div>
</section>
<section id="c.-using-the-filter-command" class="level3">
<h3 class="anchored" data-anchor-id="c.-using-the-filter-command">3c. Using the <code>filter</code> command</h3>
<p>The <code>filter</code> method in pandas provides a convenient way to select specific columns or rows based on their labels. It’s particularly useful when you want to select columns or rows that match a certain pattern.</p>
<p>Let’s explore some examples:</p>
<section id="filtering-using-like." class="level4">
<h4 class="anchored" data-anchor-id="filtering-using-like.">Filtering using <code>like</code>.</h4>
<p>Using <code>like</code> selects columns or rows based on the occurrence of a substring anywhere within a column or row (depending on the axis argument) name.</p>
<div id="66d13e38" class="cell" data-execution_count="5">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering columns that contain 'student' in their name:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>id_columns <span class="op">=</span> df.<span class="bu">filter</span>(like<span class="op">=</span><span class="st">'student'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Columns that contain 'student':</span><span class="ch">\n</span><span class="st">"</span>, id_columns.head())</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering rows where the index contains '5'</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>rows_with_5 <span class="op">=</span> df.<span class="bu">filter</span>(like<span class="op">=</span><span class="st">'5'</span>, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Rows with '5' in the index:</span><span class="ch">\n</span><span class="st">"</span>, rows_with_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Columns that contain 'student':
    student_id
0        1000
1        1001
2        1002
3        1003
4        1004

Rows with '5' in the index:
     student_id  age   gpa             major
5         1005   22  2.54       Engineering
15        1015   20  2.40         Chemistry
25        1025   18  3.25           Physics
35        1035   24  3.43  Computer Science
45        1045   21  3.27  Computer Science
50        1050   22  2.82       Engineering
51        1051   20  3.51       Engineering
52        1052   24  2.46           Physics
53        1053   22  2.15  Computer Science
54        1054   18  2.58  Computer Science
55        1055   24  2.32           Physics
56        1056   19  3.86           Physics
57        1057   21  3.62           Physics
58        1058   18  3.27       Mathematics
59        1059   21  3.74         Chemistry
65        1065   22  3.79         Chemistry
75        1075   20  2.44         Chemistry
85        1085   19  2.50  Computer Science
95        1095   23  2.48         Chemistry</code></pre>
</div>
</div>
</section>
<section id="filtering-with-regex" class="level4">
<h4 class="anchored" data-anchor-id="filtering-with-regex">Filtering with regex</h4>
<p><a href="https://regexlearn.com/learn/regex101">Regular Expressions</a> (regex) can also be used in the filter command.</p>
<div id="13709c0a" class="cell" data-execution_count="6">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtering columns that end with 'e'</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>e_ending_columns <span class="op">=</span> df.<span class="bu">filter</span>(regex<span class="op">=</span><span class="st">'e$'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Columns ending with 'e':</span><span class="ch">\n</span><span class="st">"</span>, e_ending_columns.head())</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Using regex to filter columns that start with 'g' or 's'</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>gs_columns <span class="op">=</span> df.<span class="bu">filter</span>(regex<span class="op">=</span><span class="st">'^[gs]'</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Columns starting with 'g' or 's':</span><span class="ch">\n</span><span class="st">"</span>, gs_columns.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Columns ending with 'e':
    age
0   24
1   21
2   22
3   24
4   20

Columns starting with 'g' or 's':
    student_id   gpa
0        1000  2.18
1        1001  2.39
2        1002  2.09
3        1003  2.65
4        1004  2.78</code></pre>
</div>
</div>
<p>The <code>filter</code> method is particularly useful when you’re working with DataFrames that have many columns and you want to select a subset based on a pattern in their names.</p>
<p>It’s more flexible than manually listing out column names, especially when column names might change or when working with unfamiliar datasets.</p>
<p>Remember: - <code>axis=1</code> refers to columns - <code>axis=0</code> refers to rows (index) - You can use simple string matching with <code>like</code>, or more complex patterns with <code>regex</code></p>
</section>
</section>
</section>
<section id="combining-selection-and-filtering" class="level2">
<h2 class="anchored" data-anchor-id="combining-selection-and-filtering">4. Combining Selection and Filtering</h2>
<p>Let’s combine selection and filtering techniques.</p>
<div id="1883c30d" class="cell" data-execution_count="7">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select 'student_id' and 'major' for students with age &lt; 21</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>young_students <span class="op">=</span> df.loc[df[<span class="st">'age'</span>] <span class="op">&lt;</span> <span class="dv">21</span>, [<span class="st">'student_id'</span>, <span class="st">'major'</span>]]</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"IDs and majors of students under 21:</span><span class="ch">\n</span><span class="st">"</span>, young_students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IDs and majors of students under 21:
     student_id             major
4         1004         Chemistry
8         1008         Chemistry
9         1009         Chemistry
11        1011  Computer Science
12        1012  Computer Science
15        1015         Chemistry
18        1018       Mathematics
22        1022           Physics
25        1025           Physics
27        1027       Mathematics
31        1031  Computer Science
32        1032           Physics
33        1033       Mathematics
34        1034  Computer Science
36        1036           Biology
44        1044       Mathematics
48        1048         Chemistry
49        1049       Mathematics
51        1051       Engineering
54        1054  Computer Science
56        1056           Physics
58        1058       Mathematics
61        1061       Mathematics
62        1062           Physics
63        1063  Computer Science
64        1064       Mathematics
66        1066       Mathematics
75        1075         Chemistry
77        1077           Biology
79        1079           Physics
81        1081  Computer Science
85        1085  Computer Science
90        1090  Computer Science
91        1091  Computer Science
93        1093           Physics
94        1094           Physics</code></pre>
</div>
</div>
</section>
<section id="using-.isin-for-multiple-values" class="level2">
<h2 class="anchored" data-anchor-id="using-.isin-for-multiple-values">5. Using .isin() for Multiple Values</h2>
<p>The <code>.isin()</code> method is useful when we want to filter based on multiple possible values.</p>
<div id="18626115" class="cell" data-execution_count="8">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter students majoring in Engineering, Chemistry, or Physics</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>stem_majors <span class="op">=</span> df[df[<span class="st">'major'</span>].isin([<span class="st">'Engineering'</span>, <span class="st">'Chemistry'</span>, <span class="st">'Physics'</span>])]</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"STEM majors (excluding CS and Math):</span><span class="ch">\n</span><span class="st">"</span>, stem_majors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>STEM majors (excluding CS and Math):
     student_id  age   gpa        major
1         1001   21  2.39      Physics
2         1002   22  2.09      Physics
4         1004   20  2.78    Chemistry
5         1005   22  2.54  Engineering
8         1008   19  2.56    Chemistry
9         1009   20  3.09    Chemistry
10        1010   24  2.28      Physics
14        1014   21  3.54      Physics
15        1015   20  2.40    Chemistry
16        1016   23  2.01  Engineering
17        1017   22  3.63      Physics
20        1020   23  3.54      Physics
22        1022   19  2.72      Physics
24        1024   22  3.73      Physics
25        1025   18  3.25      Physics
32        1032   18  3.77      Physics
37        1037   21  3.12    Chemistry
39        1039   24  2.99      Physics
48        1048   18  3.82    Chemistry
50        1050   22  2.82  Engineering
51        1051   20  3.51  Engineering
52        1052   24  2.46      Physics
55        1055   24  2.32      Physics
56        1056   19  3.86      Physics
57        1057   21  3.62      Physics
59        1059   21  3.74    Chemistry
62        1062   19  3.79      Physics
65        1065   22  3.79    Chemistry
67        1067   21  2.22    Chemistry
68        1068   21  2.46      Physics
69        1069   24  2.85    Chemistry
71        1071   24  3.72      Physics
73        1073   22  3.02  Engineering
75        1075   20  2.44    Chemistry
78        1078   21  3.89    Chemistry
79        1079   19  2.65      Physics
80        1080   21  3.04  Engineering
86        1086   21  2.99    Chemistry
87        1087   23  2.60  Engineering
89        1089   24  2.07      Physics
93        1093   19  2.56      Physics
94        1094   19  3.82      Physics
95        1095   23  2.48    Chemistry
96        1096   21  2.29    Chemistry
97        1097   23  2.98    Chemistry
98        1098   24  3.97    Chemistry
99        1099   24  2.48    Chemistry</code></pre>
</div>
</div>
</section>
<section id="filtering-with-string-methods" class="level2">
<h2 class="anchored" data-anchor-id="filtering-with-string-methods">6. Filtering with String Methods</h2>
<p>Pandas provides string methods that can be used for filtering text data.</p>
<div id="9d0d8f9c" class="cell" data-execution_count="9">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter majors that contain the word 'Science'</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>science_majors <span class="op">=</span> df[df[<span class="st">'major'</span>].<span class="bu">str</span>.contains(<span class="st">'Science'</span>)]</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Majors containing 'Science':</span><span class="ch">\n</span><span class="st">"</span>, science_majors)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Majors containing 'Science':
     student_id  age   gpa             major
3         1003   24  2.65  Computer Science
11        1011   20  3.60  Computer Science
12        1012   20  2.15  Computer Science
28        1028   23  2.62  Computer Science
29        1029   22  2.65  Computer Science
31        1031   18  3.28  Computer Science
34        1034   20  2.24  Computer Science
35        1035   24  3.43  Computer Science
42        1042   24  2.05  Computer Science
45        1045   21  3.27  Computer Science
47        1047   21  3.02  Computer Science
53        1053   22  2.15  Computer Science
54        1054   18  2.58  Computer Science
60        1060   23  3.61  Computer Science
63        1063   18  3.08  Computer Science
70        1070   21  3.64  Computer Science
72        1072   21  2.01  Computer Science
81        1081   19  3.41  Computer Science
83        1083   23  3.94  Computer Science
85        1085   19  2.50  Computer Science
90        1090   19  3.22  Computer Science
91        1091   19  3.01  Computer Science</code></pre>
</div>
</div>
</section>
<section id="advanced-selection-.loc-vs-.iloc" class="level2">
<h2 class="anchored" data-anchor-id="advanced-selection-.loc-vs-.iloc">7. Advanced Selection: .loc vs .iloc</h2>
<p>The main difference between <code>.loc</code> and <code>.iloc</code> in pandas is how they select data:</p>
<ul>
<li><p><code>.loc</code> - <strong>Label-based indexing:</strong> Uses labels/index values to select data Can use labels, boolean arrays, or slices of labels</p></li>
<li><p><code>.iloc</code> - <strong>Integer-based indexing:</strong> Uses integer positions to select data Works with integer position-based indexing only</p></li>
</ul>
<div id="98feb263" class="cell" data-execution_count="10">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using .loc with labels</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>label_select <span class="op">=</span> df.loc[<span class="dv">10</span>:<span class="dv">15</span>, <span class="st">'age'</span>:<span class="st">'major'</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Label-based selection with .loc:</span><span class="ch">\n</span><span class="st">"</span>, label_select)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Using .iloc with integer positions</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>position_select <span class="op">=</span> df.iloc[<span class="dv">10</span>:<span class="dv">15</span>, <span class="dv">1</span>:<span class="dv">4</span>]</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Integer-based selection with .iloc:</span><span class="ch">\n</span><span class="st">"</span>, position_select)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Label-based selection with .loc:
     age   gpa             major
10   24  2.28           Physics
11   20  3.60  Computer Science
12   20  2.15  Computer Science
13   22  3.97       Mathematics
14   21  3.54           Physics
15   20  2.40         Chemistry

Integer-based selection with .iloc:
     age   gpa             major
10   24  2.28           Physics
11   20  3.60  Computer Science
12   20  2.15  Computer Science
13   22  3.97       Mathematics
14   21  3.54           Physics</code></pre>
</div>
</div>
<section id="key-differences-between-.loc-and-.iloc-and-use-cases" class="level3">
<h3 class="anchored" data-anchor-id="key-differences-between-.loc-and-.iloc-and-use-cases">Key differences between <code>.loc</code> and <code>.iloc</code> and use cases:</h3>
<p><em>Indexing type</em>:</p>
<ul>
<li><code>.loc</code>: Use when you know the label names.</li>
<li><code>.iloc</code>: Use when you know the integer positions.</li>
</ul>
<p><em>Slicing behavior</em>:</p>
<ul>
<li><code>.loc</code>: The end of a slice is inclusive.</li>
<li><code>.iloc</code>: The end of a slice is exclusive (similar to Python’s standard slicing).</li>
</ul>
<p><em>Mixed indexing</em>:</p>
<ul>
<li><code>.loc</code>: Can mix label, boolean, and label-based slicing.</li>
<li><code>.iloc</code>: Strictly integer-based.</li>
</ul>
<p><em>Performance</em>:</p>
<ul>
<li><code>.iloc</code> can be slightly faster, especially for large datasets, as it doesn’t need to look up labels.</li>
</ul>
<p><em>Flexibility</em>:</p>
<ul>
<li><code>.loc</code> is more flexible, allowing for more complex queries based on labels and conditions.</li>
</ul>
</section>
<section id="best-practices-for-using-.loc-and-.iloc" class="level3">
<h3 class="anchored" data-anchor-id="best-practices-for-using-.loc-and-.iloc">Best practices for using <code>.loc</code> and <code>.iloc</code></h3>
<p>Use <code>.loc</code> when working with labeled data for clarity.</p>
<p>Use <code>.iloc</code> when you need to select data based on its position, regardless of its label.</p>
<p><strong>Avoid using plain square brackets df[] for indexing as it can be ambiguous and lead to unexpected results.</strong></p>
<p>Only use plain square brackets for filtering.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>We’ve covered various aspects of selection and filtering in pandas, including: - Basic selection of columns and rows - Single and multiple condition filtering - Combining selection and filtering - Using <code>.isin()</code> for multiple value matching - String method filtering - Advanced selection with <code>.loc</code> and <code>.iloc</code></p>
<p>These techniques, different from our cheatsheet examples, provide you with a broader understanding of data manipulation in pandas.</p>
<p>Practice with these methods to become more proficient in handling diverse datasets.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p><img src="../../images/bren-logo.png" alt="The Bren School of Environmental Science &amp; Management logo" width="250"></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <a href="https://github.com/samanthacsik/EDS-212-essential-math"><i class="fa-brands fa-github" title="the github octocat logo" aria-label="github"></i></a> and <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>